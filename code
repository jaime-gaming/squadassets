<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Squad Busters | Fan Assets Library</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --sb-purple-bright: #a855f7;
            --sb-purple-main: #7c2ae8;
            --sb-purple-dark: #2e1065;
            --sb-purple-deep: #0f041d;
            --sb-green: #22c55e;
            --sb-blue: #3b82f6;
            --sb-gold: #eab308;
            --sb-red: #ef4444;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--sb-purple-deep);
            color: white;
            overflow: hidden;
        }

        .font-squad { font-family: 'Archivo Black', sans-serif; text-transform: uppercase; }

        /* Sidebar Glassmorphism */
        #sidebar {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            width: 20rem;
            background: linear-gradient(to bottom, rgba(15, 4, 29, 0.8), rgba(46, 16, 101, 0.4));
            backdrop-filter: blur(20px);
        }
        #sidebar.collapsed { width: 5rem; }
        #sidebar.collapsed .sidebar-hide { opacity: 0; pointer-events: none; }

        /* Spiral Animation */
        .spiral-svg { animation: rotateSpiral 15s linear infinite; }
        @keyframes rotateSpiral { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* Card Animations */
        .asset-card {
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid rgba(255, 255, 255, 0.08);
            border-radius: 24px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: cardAppear 0.4s ease-out backwards;
        }
        @keyframes cardAppear {
            from { opacity: 0; transform: scale(0.9) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
        .asset-card:hover {
            transform: translateY(-8px) scale(1.03);
            background: rgba(255, 255, 255, 0.07);
            border-color: var(--sb-purple-bright);
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
        }

        /* View Modes */
        .grid-view { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }
        .list-view { grid-template-columns: 1fr; }
        .list-view .asset-card { flex-direction: row; height: 80px; padding: 0 20px; }
        .list-view .asset-card .preview-box { width: 60px; height: 60px; margin: 0 20px 0 0; }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: var(--sb-purple-main); border-radius: 10px; }

        .tag {
            font-size: 8px;
            padding: 2px 8px;
            border-radius: 99px;
            font-weight: 900;
            text-transform: uppercase;
        }
        .tag-classic { background: var(--sb-blue); }
        .tag-super { background: var(--sb-purple-bright); }
        .tag-ultra { background: var(--sb-gold); color: black; }

        .sb-btn-icon {
            @apply p-2 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/10;
        }
        .sb-btn-icon.active { @apply bg-purple-600 border-purple-400 text-white; }

        .backup-badge {
            background: linear-gradient(90deg, #ef4444, #991b1b);
            animation: pulse-red 2s infinite;
        }

        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }

        .policy-card {
            background: rgba(255, 255, 255, 0.02);
            border-radius: 16px;
            padding: 12px;
            border-left: 3px solid var(--sb-purple-main);
        }
    </style>
</head>
<body class="h-screen flex flex-col text-slate-200">

    <!-- Header -->
    <header class="h-24 border-b border-white/10 flex items-center justify-between px-8 bg-black/40 z-50">
        <div class="flex items-center gap-6">
            <div class="w-12 h-12 relative cursor-pointer" id="sidebar-toggle">
                <svg viewBox="0 0 100 100" class="spiral-svg w-full h-full">
                    <path class="fill-none stroke-purple-500 stroke-[7] stroke-linecap-round" d="M50 50 C 50 40, 65 40, 65 50 C 65 65, 35 65, 35 50 C 35 25, 75 25, 75 50 C 75 85, 20 85, 20 50" style="filter: drop-shadow(0 0 5px #a855f7)" />
                </svg>
            </div>
            <div class="sidebar-hide transition-opacity">
                <div class="flex items-center gap-3">
                    <h1 class="text-2xl font-squad tracking-tighter leading-none">Squad <span class="text-purple-400">Explorer</span></h1>
                    <span class="backup-badge text-[8px] font-black px-2 py-0.5 rounded-md tracking-tighter uppercase">UNOFFICIAL BACKUP</span>
                </div>
                <p class="text-[10px] text-white/30 font-bold uppercase tracking-widest mt-1">Community Resource Library</p>
            </div>
        </div>

        <!-- Toolbar -->
        <div class="flex items-center gap-6">
            <!-- Search -->
            <div class="relative group">
                <input type="text" id="search-bar" placeholder="Search assets..." class="bg-white/5 border border-white/10 rounded-full px-6 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 w-80 transition-all group-hover:bg-white/10">
                <div class="absolute right-4 top-1/2 -translate-y-1/2 text-white/20">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </div>
            </div>

            <!-- View Toggles -->
            <div class="flex bg-black/40 p-1 rounded-2xl border border-white/5">
                <button id="btn-grid" class="sb-btn-icon active" onclick="setView('grid')">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
                </button>
                <button id="btn-list" class="sb-btn-icon" onclick="setView('list')">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
            </div>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">
        <!-- Sidebar -->
        <aside id="sidebar" class="flex flex-col border-r border-white/5">
            <div class="p-6 flex-1 overflow-y-auto no-scrollbar sidebar-hide transition-opacity">
                <!-- Warning Message -->
                <div class="bg-red-500/10 border border-red-500/20 rounded-2xl p-4 mb-6">
                    <p class="text-[9px] font-bold text-red-400 leading-tight uppercase tracking-wider">
                        WARNING: This is an unofficial file backup. All original assets are property of Supercell.
                    </p>
                </div>

                <!-- Stats Card -->
                <div class="bg-purple-900/20 border border-purple-500/20 rounded-3xl p-4 mb-8">
                    <p class="text-[10px] font-black text-purple-400 uppercase mb-2">Library Overview</p>
                    <div class="flex justify-between items-end">
                        <span id="total-count" class="text-4xl font-squad">00</span>
                        <span class="text-[10px] opacity-40 font-bold mb-1">ASSETS</span>
                    </div>
                </div>

                <h3 class="text-[10px] font-black text-white/30 uppercase tracking-[0.2em] mb-4">Main Categories</h3>
                <nav id="category-list" class="space-y-1.5 mb-8">
                    <!-- Categories tabs -->
                </nav>

                <h3 class="text-[10px] font-black text-white/30 uppercase tracking-[0.2em] mb-4">World Folders</h3>
                <nav id="folder-list" class="space-y-1.5 mb-8">
                    <!-- Dynamic Folders -->
                </nav>

                <!-- Policies Section -->
                <h3 class="text-[10px] font-black text-white/30 uppercase tracking-[0.2em] mb-4">Legal & Policies</h3>
                <div class="space-y-3">
                    <div class="policy-card">
                        <p class="text-[10px] font-bold text-purple-300 mb-1 uppercase">Usage Policy</p>
                        <p class="text-[9px] text-white/40 leading-relaxed">Assets are for fan-art, wiki contributions, and educational purposes only. Do not monetize or misrepresent.</p>
                    </div>
                    <div class="policy-card">
                        <p class="text-[10px] font-bold text-purple-300 mb-1 uppercase">Attribution</p>
                        <p class="text-[9px] text-white/40 leading-relaxed">Always credit Supercell as the original creator of these designs when sharing your fan work.</p>
                    </div>
                </div>

                <h3 class="text-[10px] font-black text-white/30 uppercase tracking-[0.2em] mt-8 mb-4">File Types</h3>
                <div id="type-filters" class="flex flex-wrap gap-2">
                    <!-- Extensions filter -->
                </div>
            </div>
            
            <!-- Sidebar Footer -->
            <div class="p-6 sidebar-hide transition-opacity border-top border-white/5 bg-black/20">
                <p class="text-[9px] leading-relaxed text-white/30 font-medium">
                    This content is not affiliated with, endorsed, sponsored, or specifically approved by Supercell.
                    <a href="https://www.supercell.com/fan-content-policy" class="text-purple-400 underline block mt-1 hover:text-white transition-colors" target="_blank">Fan Content Policy</a>
                </p>
            </div>
        </aside>

        <!-- Main Workspace -->
        <main class="flex-1 overflow-y-auto p-8 bg-[radial-gradient(circle_at_20%_20%,_rgba(124,42,232,0.1)_0%,_transparent_50%)]">
            <!-- Breadcrumbs -->
            <div class="mb-6 flex items-center gap-2 text-[10px] font-bold uppercase tracking-widest text-white/40">
                <span id="current-category-path">All Assets</span>
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7"></path></svg>
                <span id="current-folder-path" class="text-white">Root</span>
            </div>

            <div id="grid-container" class="grid grid-view gap-6 transition-all duration-500">
                <!-- Assets render here -->
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="fullscreen-overlay" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-8">
        <div id="close-overlay" class="absolute inset-0 cursor-pointer bg-black/60 backdrop-blur-sm"></div>
        <div class="bg-purple-950/80 backdrop-filter blur-3xl p-1 rounded-[40px] border border-white/10 relative max-w-6xl w-full shadow-2xl">
            <div class="bg-black/60 rounded-[38px] p-12 flex flex-col md:flex-row gap-12 items-center">
                <div id="media-container" class="w-full md:w-1/2 aspect-square bg-black/40 rounded-3xl flex items-center justify-center p-8 overflow-hidden border border-white/5 shadow-inner"></div>
                
                <div class="flex-1 text-center md:text-left">
                    <span id="modal-tag" class="tag tag-classic mb-4 inline-block">Classic</span>
                    <h2 id="media-title" class="text-5xl font-squad mb-2 tracking-tighter">Asset</h2>
                    <p id="media-path" class="text-purple-400 font-bold text-xs uppercase tracking-[0.3em] mb-8 opacity-40"></p>
                    
                    <div class="grid grid-cols-2 gap-4 mb-8">
                        <div class="bg-white/5 p-4 rounded-2xl border border-white/5">
                            <p class="text-[10px] opacity-40 font-bold uppercase mb-1 text-purple-200">Format</p>
                            <p id="info-format" class="font-bold">PNG</p>
                        </div>
                        <div class="bg-white/5 p-4 rounded-2xl border border-white/5">
                            <p class="text-[10px] opacity-40 font-bold uppercase mb-1 text-purple-200">Size</p>
                            <p id="info-size" class="font-bold">1.2 MB</p>
                        </div>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-4">
                        <a id="download-link" href="#" download class="flex-1 py-4 bg-purple-600 hover:bg-purple-500 rounded-2xl text-center font-bold text-lg shadow-lg shadow-purple-900/20 transition-all">Download Asset</a>
                        <button onclick="closeModal()" class="px-8 py-4 bg-white/5 hover:bg-white/10 rounded-2xl font-bold uppercase text-xs tracking-widest transition-all border border-white/10">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mock Database with diverse assets
        const assetsData = [
            { name: 'Barbarian.png', folder: 'Green World', category: 'Characters', type: 'image', rarity: 'classic', size: '240 KB' },
            { name: 'Archer.png', folder: 'Green World', category: 'Characters', type: 'image', rarity: 'classic', size: '215 KB' },
            { name: 'Greg.png', folder: 'Green World', category: 'Characters', type: 'image', rarity: 'super', size: '310 KB' },
            { name: 'King_Barbarian.png', folder: 'Green World', category: 'Heroes/Squaddies', type: 'image', rarity: 'ultra', size: '1.2 MB' },
            { name: 'Archer_Queen.png', folder: 'Green World', category: 'Heroes/Squaddies', type: 'image', rarity: 'ultra', size: '1.4 MB' },
            { name: 'Lobby_Map.png', folder: 'UI Effects', category: 'World', type: 'image', rarity: 'classic', size: '2.1 MB' },
            { name: 'Desert_Background.webp', folder: 'Desert World', category: 'World', type: 'image', rarity: 'classic', size: '800 KB' },
            { name: 'Event_Banner_Halloween.png', folder: 'UI Effects', category: 'Events', type: 'image', rarity: 'super', size: '1.5 MB' },
            { name: 'Main_Theme.mp3', folder: 'Audio', category: 'Assets Type', type: 'audio', rarity: 'classic', size: '4.2 MB' },
            { name: 'SquadFont.otf', folder: 'Fonts', category: 'Assets Type', type: 'font', rarity: 'classic', size: '92 KB' }
        ];

        let currentCategory = 'all';
        let currentFolder = 'all';
        let viewMode = 'grid';

        const sidebar = document.getElementById('sidebar');
        const grid = document.getElementById('grid-container');
        const folderList = document.getElementById('folder-list');
        const categoryList = document.getElementById('category-list');
        const totalCountDisplay = document.getElementById('total-count');

        document.getElementById('sidebar-toggle').onclick = () => {
            sidebar.classList.toggle('collapsed');
        };

        function setView(mode) {
            viewMode = mode;
            grid.className = `grid gap-6 transition-all duration-500 ${mode}-view`;
            document.getElementById('btn-grid').classList.toggle('active', mode === 'grid');
            document.getElementById('btn-list').classList.toggle('active', mode === 'list');
            renderAssets();
        }

        function generateFilters() {
            const categories = [...new Set(assetsData.map(a => a.category))].sort();
            const extensions = [...new Set(assetsData.map(a => a.name.split('.').pop()))].sort();
            
            categoryList.innerHTML = `
                <button onclick="filterCategory('all')" class="cat-btn active flex items-center justify-between w-full px-4 py-2.5 rounded-xl transition-all font-bold text-[10px] uppercase tracking-widest bg-purple-600/20 text-purple-400">
                    <span>All</span>
                </button>
            `;
            categories.forEach(cat => {
                categoryList.innerHTML += `
                    <button onclick="filterCategory('${cat}')" class="cat-btn flex items-center justify-between w-full px-4 py-2.5 rounded-xl text-white/40 hover:bg-white/5 transition-all font-bold text-[10px] uppercase tracking-widest">
                        <span>${cat}</span>
                    </button>
                `;
            });

            updateFolderList();

            const typeContainer = document.getElementById('type-filters');
            typeContainer.innerHTML = '';
            extensions.forEach(ext => {
                typeContainer.innerHTML += `
                    <button onclick="filterExtension('${ext}')" class="px-3 py-1.5 bg-white/5 border border-white/10 rounded-lg text-[9px] font-black uppercase hover:bg-purple-600/30 transition-all">.${ext}</button>
                `;
            });

            totalCountDisplay.innerText = assetsData.length.toString().padStart(2, '0');
        }

        function updateFolderList() {
            const filteredData = currentCategory === 'all' ? assetsData : assetsData.filter(a => a.category === currentCategory);
            const folders = [...new Set(filteredData.map(a => a.folder))].sort();

            folderList.innerHTML = `
                <button onclick="filterFolder('all')" class="nav-btn active flex items-center justify-between w-full px-4 py-2 rounded-xl transition-all font-bold text-[10px] uppercase tracking-widest bg-white/5">
                    <span>Root</span>
                </button>
            `;

            folders.forEach(folder => {
                folderList.innerHTML += `
                    <button onclick="filterFolder('${folder}')" class="nav-btn flex items-center justify-between w-full px-4 py-2 rounded-xl text-white/40 hover:bg-white/5 transition-all font-bold text-[10px] uppercase tracking-widest">
                        <span>${folder}</span>
                    </button>
                `;
            });
        }

        function filterCategory(cat) {
            currentCategory = cat;
            currentFolder = 'all';
            document.getElementById('current-category-path').innerText = cat === 'all' ? 'All Assets' : cat;
            document.getElementById('current-folder-path').innerText = 'Root';
            
            document.querySelectorAll('.cat-btn').forEach(btn => {
                const isActive = btn.innerText.toLowerCase() === (cat === 'all' ? 'all' : cat.toLowerCase());
                btn.className = `cat-btn flex items-center justify-between w-full px-4 py-2.5 rounded-xl transition-all font-bold text-[10px] uppercase tracking-widest ${isActive ? 'bg-purple-600/20 text-purple-400' : 'text-white/40 hover:bg-white/5'}`;
            });

            updateFolderList();
            renderAssets();
        }

        function filterFolder(folder) {
            currentFolder = folder;
            document.getElementById('current-folder-path').innerText = folder === 'all' ? 'Root' : folder;
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                const isActive = btn.innerText.toLowerCase() === (folder === 'all' ? 'root' : folder.toLowerCase());
                btn.className = `nav-btn flex items-center justify-between w-full px-4 py-2 rounded-xl transition-all font-bold text-[10px] uppercase tracking-widest ${isActive ? 'bg-white/10 text-white' : 'text-white/40 hover:bg-white/5'}`;
            });

            renderAssets();
        }

        function filterExtension(ext) {
            renderAssets(ext);
        }

        function renderAssets(extFilter = null) {
            const query = document.getElementById('search-bar').value.toLowerCase();
            
            const filtered = assetsData.filter(a => {
                const matchesCat = currentCategory === 'all' || a.category === currentCategory;
                const matchesFolder = currentFolder === 'all' || a.folder === currentFolder;
                const matchesExt = !extFilter || a.name.endsWith(extFilter);
                const matchesSearch = a.name.toLowerCase().includes(query);
                return matchesCat && matchesFolder && matchesExt && matchesSearch;
            });

            grid.innerHTML = filtered.map((a, index) => `
                <div class="asset-card flex flex-col group cursor-pointer overflow-hidden" 
                     style="animation-delay: ${index * 0.03}s"
                     onclick="openFullscreen('${a.name}', '${a.folder}', '${a.type}', '${a.rarity}', '${a.size}')">
                    <div class="preview-box w-full aspect-square flex items-center justify-center bg-black/40 relative overflow-hidden">
                        ${a.type === 'image' 
                            ? `<img src="./assets/${a.folder}/${a.name}" class="max-w-[75%] max-h-[75%] object-contain group-hover:scale-110 transition-transform duration-700" onerror="this.src='https://placehold.co/400x400/2e1065/purple?text=${a.name.split('.').pop().toUpperCase()}'">` 
                            : getIcon(a.type)}
                        <div class="absolute top-4 right-4 translate-x-12 group-hover:translate-x-0 transition-transform duration-300">
                             <span class="tag tag-${a.rarity}">${a.rarity}</span>
                        </div>
                    </div>
                    <div class="p-4 flex-1 flex flex-col justify-center">
                        <p class="text-[8px] font-black uppercase tracking-widest text-purple-400 opacity-60 mb-0.5">${a.category}</p>
                        <p class="text-xs font-bold truncate uppercase tracking-tighter">${a.name.split('.')[0]}</p>
                    </div>
                </div>
            `).join('');
            
            if (filtered.length === 0) {
                grid.innerHTML = `<div class="col-span-full py-20 text-center text-white/20 font-bold uppercase tracking-widest">No assets found in this section</div>`;
            }
        }

        function getIcon(type) {
            const icons = {
                audio: `<svg class="w-12 h-12 text-blue-400/40" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2z"></path></svg>`,
                font: `<svg class="w-12 h-12 text-yellow-500/40" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>`,
                default: `<svg class="w-12 h-12 text-white/10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>`
            };
            return icons[type] || icons.default;
        }

        window.openFullscreen = function(name, folder, type, rarity, size) {
            const overlay = document.getElementById('fullscreen-overlay');
            const mediaContainer = document.getElementById('media-container');
            const title = document.getElementById('media-title');
            const pathDisplay = document.getElementById('media-path');
            const tag = document.getElementById('modal-tag');
            const formatInfo = document.getElementById('info-format');
            const sizeInfo = document.getElementById('info-size');
            const dl = document.getElementById('download-link');

            const fullPath = `./assets/${folder}/${name}`;
            title.innerText = name.split('.')[0];
            pathDisplay.innerText = `${folder} / ${name}`;
            tag.className = `tag tag-${rarity} mb-4 inline-block px-4 py-1 text-[10px]`;
            tag.innerText = rarity;
            formatInfo.innerText = name.split('.').pop().toUpperCase();
            sizeInfo.innerText = size;
            dl.href = fullPath;

            if (type === 'image') {
                mediaContainer.innerHTML = `<img src="${fullPath}" class="max-h-full max-w-full object-contain drop-shadow-2xl" onerror="this.src='https://placehold.co/800x800/2e1065/purple?text=NO+PREVIEW'">`;
            } else if (type === 'audio') {
                mediaContainer.innerHTML = `
                    <div class="flex flex-col items-center">
                        <div class="mb-8">${getIcon('audio').replace('w-12 h-12', 'w-32 h-32')}</div>
                        <audio controls class="w-full max-w-sm"><source src="${fullPath}"></audio>
                    </div>`;
            } else {
                mediaContainer.innerHTML = `<div class="p-20 bg-white/5 rounded-full">${getIcon(type).replace('w-12 h-12', 'w-32 h-32')}</div>`;
            }

            overlay.classList.remove('hidden');
        };

        window.closeModal = function() {
            document.getElementById('fullscreen-overlay').classList.add('hidden');
            document.getElementById('media-container').innerHTML = '';
        };

        document.getElementById('close-overlay').onclick = closeModal;
        document.getElementById('search-bar').addEventListener('input', () => renderAssets());

        window.onload = () => {
            generateFilters();
            renderAssets();
        };
    </script>
</body>
</html>
